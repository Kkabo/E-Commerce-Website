{"ast":null,"code":"import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import React,{useEffect,useState,useRef}from'react';import{Link}from'react-router-dom';import Rating from'./Rating';import Price from'./Price';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Book(_ref){let{book}=_ref;const[img,setImg]=useState();const mountedRef=useRef(true);useEffect(()=>{const image=new Image();image.src=book.url;image.onload=()=>{setTimeout(()=>{if(mountedRef.current){setImg(image);}},300);};return()=>{//When the component unmounts\nmountedRef.current=false;};});/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"star\"});return/*#__PURE__*/_jsx(\"div\",{className:\"book\",children:img?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/books/\".concat(book.id),children:/*#__PURE__*/_jsx(\"figure\",{className:\"book__img--wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:img.src,alt:\"\",className:\"book__img\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"book__title\",children:/*#__PURE__*/_jsx(Link,{to:\"/books/\".concat(book.id),className:\"book__title--link\",children:book.title})}),/*#__PURE__*/_jsx(Rating,{rating:book.rating}),/*#__PURE__*/_jsx(Price,{salePrice:book.salePrice,originalPrice:book.originalPrice})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"book__img--skeleton\"}),/*#__PURE__*/_jsx(\"div\",{className:\"skeleton book__title--skeleton\"}),/*#__PURE__*/_jsx(\"div\",{className:\"skeleton book__rating--skeleton\"}),/*#__PURE__*/_jsx(\"div\",{className:\"skeleton book__price--skeleton\"})]})});}","map":{"version":3,"names":["FontAwesomeIcon","React","useEffect","useState","useRef","Link","Rating","Price","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Book","_ref","book","img","setImg","mountedRef","image","Image","src","url","onload","setTimeout","current","icon","className","children","to","concat","id","alt","title","rating","salePrice","originalPrice"],"sources":["C:/Users/Dardan Kabashi/Desktop/Projekte per Resume/4. E-Commerce - done/7. React-E-Commerce/src/components/ui/Book.jsx"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport React, {useEffect, useState, useRef} from 'react'\nimport { Link } from 'react-router-dom';\nimport Rating from './Rating';\nimport Price from './Price';\n\nexport default function Book({book }) {\n    const[img, setImg] = useState();\n\n    const mountedRef = useRef(true);\n\n    useEffect(() => {\n        const image = new Image();\n        image.src = book.url;\n        image.onload = () => {\n        setTimeout(() => {\n            if(mountedRef.current){\n            setImg(image);\n            }\n        }, 300);\n    };\n        return() =>{\n            //When the component unmounts\n            mountedRef.current = false;\n        }\n    });\n\n    <FontAwesomeIcon icon=\"star\" />\n    return (\n        <div className=\"book\">\n        {\n            img ?  \n            <>\n            <Link to={`/books/${book.id}`}>\n            <figure className=\"book__img--wrapper\">\n                <img src={img.src} \n                     alt=\"\" \n                     className=\"book__img\" \n                />\n            </figure>\n            </Link>\n            <div className=\"book__title\">\n                <Link to={`/books/${book.id}`} className=\"book__title--link\">\n                    {book.title}\n                </Link>\n            </div>\n            <Rating rating={book.rating}/>\n            <Price salePrice={book.salePrice} originalPrice={book.originalPrice}/> \n            </>\n            :<> \n            <div className=\"book__img--skeleton\"></div>\n            <div className=\"skeleton book__title--skeleton\"></div>\n            <div className=\"skeleton book__rating--skeleton\"></div>\n            <div className=\"skeleton book__price--skeleton\"></div>\n            </>\n        }\n        </div>\n    )\n}\n"],"mappings":"AAAA,OAASA,eAAe,KAAQ,gCAAgC,CAChE,MAAO,CAAAC,KAAK,EAAGC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAO,OAAO,CACxD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAU,IAAT,CAACC,IAAK,CAAC,CAAAD,IAAA,CAChC,KAAK,CAACE,GAAG,CAAEC,MAAM,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAE/B,KAAM,CAAAgB,UAAU,CAAGf,MAAM,CAAC,IAAI,CAAC,CAE/BF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAkB,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACzBD,KAAK,CAACE,GAAG,CAAGN,IAAI,CAACO,GAAG,CACpBH,KAAK,CAACI,MAAM,CAAG,IAAM,CACrBC,UAAU,CAAC,IAAM,CACb,GAAGN,UAAU,CAACO,OAAO,CAAC,CACtBR,MAAM,CAACE,KAAK,CAAC,CACb,CACJ,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,CACG,MAAM,IAAK,CACP;AACAD,UAAU,CAACO,OAAO,CAAG,KAAK,CAC9B,CAAC,CACL,CAAC,CAAC,CAEF,aAAAjB,IAAA,CAACT,eAAe,EAAC2B,IAAI,CAAC,MAAM,CAAE,CAAC,CAC/B,mBACIlB,IAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAEjBZ,GAAG,cACHJ,KAAA,CAAAF,SAAA,EAAAkB,QAAA,eACApB,IAAA,CAACJ,IAAI,EAACyB,EAAE,WAAAC,MAAA,CAAYf,IAAI,CAACgB,EAAE,CAAG,CAAAH,QAAA,cAC9BpB,IAAA,WAAQmB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAClCpB,IAAA,QAAKa,GAAG,CAAEL,GAAG,CAACK,GAAI,CACbW,GAAG,CAAC,EAAE,CACNL,SAAS,CAAC,WAAW,CACzB,CAAC,CACE,CAAC,CACH,CAAC,cACPnB,IAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAC,QAAA,cACxBpB,IAAA,CAACJ,IAAI,EAACyB,EAAE,WAAAC,MAAA,CAAYf,IAAI,CAACgB,EAAE,CAAG,CAACJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CACvDb,IAAI,CAACkB,KAAK,CACT,CAAC,CACN,CAAC,cACNzB,IAAA,CAACH,MAAM,EAAC6B,MAAM,CAAEnB,IAAI,CAACmB,MAAO,CAAC,CAAC,cAC9B1B,IAAA,CAACF,KAAK,EAAC6B,SAAS,CAAEpB,IAAI,CAACoB,SAAU,CAACC,aAAa,CAAErB,IAAI,CAACqB,aAAc,CAAC,CAAC,EACpE,CAAC,cACFxB,KAAA,CAAAF,SAAA,EAAAkB,QAAA,eACDpB,IAAA,QAAKmB,SAAS,CAAC,qBAAqB,CAAM,CAAC,cAC3CnB,IAAA,QAAKmB,SAAS,CAAC,gCAAgC,CAAM,CAAC,cACtDnB,IAAA,QAAKmB,SAAS,CAAC,iCAAiC,CAAM,CAAC,cACvDnB,IAAA,QAAKmB,SAAS,CAAC,gCAAgC,CAAM,CAAC,EACpD,CAAC,CAEF,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}